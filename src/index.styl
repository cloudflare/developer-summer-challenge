@require "-root"

// ---
// ELEMENTS
// ---

.box
	width 100%
	max-width 900px
	min-width 300px
	margin 0 auto

.grid
	display grid
	position relative
	justify-items center
	grid-template-columns minmax(0, 1fr) minmax(0, 1fr)
	grid-column-gap 4rem
	column-gap 4rem

nav,
nav .box
	display flex
	border-bottom 1px solid $gray
	height 5rem

nav .box
	justify-content space-between

.ac
	align-items center

@require "-inputs"

form label:last-of-type
	grid-column 1/3

form.grid
	max-width 32rem
	margin 1rem auto 0
	grid-gap 1.5rem
	gap 1.5rem

// ---
// INTRO
// ---

.intro
	overflow hidden
	position relative
	padding 4rem 0 8.5rem

.intro::after
	bottom 0
	width 100%
	height 10%
	position absolute
	background-color $blue1
	content ''

.intro svg
	bottom -9rem
	position relative
	margin-left 10rem
	pointer-events none
	user-select none
	width 37.5rem
	height auto
	z-index 1

.intro .btn
	min-width 10rem
	margin-right 1rem
	margin-top 0.5rem

.intro p
	line-height 1.75
	margin-bottom 1rem



// ---
// BANNER
// ---

header[role=banner]
	display flex
	height 6.5rem
	padding 1rem 0
	background-color $blue3
	color $white

// ---
// PRIZE
// ---

.prize
	background-color #EAECF4
	background-color $blue2
	background-color #CFE7F1
	background-color #e7f3f8

.card
	padding 3rem
	max-width 26rem
	position absolute
	background-color $gray
	background-color #F8FBFB
	@extend $btn-shadow1
	border-radius 1rem
	line-height 2
	bottom -8rem
	right 0

// ---
// PACKAGE
// ---

$pkg-height = 6rem
$pkg-depth = 2 * $pkg-height
$pkg-length = 2.4 * $pkg-height
$pkg-icon-size = 1.8 * $pkg-length
$pkg-transition = 650ms

.scene
	height $pkg-depth
	width $pkg-length
	border 1px solid $blue3
	border-radius 0.5rem
	perspective 400px
	margin 3rem 0

.pkg
	position relative
	will-change transform
	transform-style preserve-3d
	// animation showcase 1s infinite linear
	animation showcase 2s infinite alternate cubic-bezier(0.65, 0.05, 0.36, 1)

.face
	overflow hidden
	position absolute
	background-color $white
	border 2px solid $black

.face.h, .face.a
	width $pkg-length
	height $pkg-depth

.face.h
	transform-origin top
	will-change transform
	transition transform ($pkg-transition - 200ms) ease-out 25ms

.face.a
	transform rotateY(180deg) translateZ($pkg-height)

.face.r, .face.l
	width $pkg-height
	height $pkg-depth
	transform-origin left
	transform rotateY(-90deg) translateX(-1 * $pkg-height)

.face.r
	left $pkg-length

.face.t, .face.b
	transform-origin top
	width $pkg-length
	height $pkg-height

.face.t
	transform rotateX(-90deg)

.face.b
	transform translateY($pkg-depth) rotateX(-90deg)
	text-align center

.face svg
	height $pkg-depth
	min-width $pkg-icon-size
	float right

// text
.face.b svg
	width 55%
	float none
	min-width 0
	height 100%

// icons
.face.l svg
	transform translateX($pkg-length)
.face.a svg
	transform translateX($pkg-length + $pkg-height)

@keyframes showcase
	0% { transform: translate3d(21px, 12px, -140px) rotateX(75deg) rotateY(7deg) rotateZ(-55deg) }
	50% { transform: translate3d(0, 4px, -145px) rotateX(20deg) rotateY(0) rotateZ(0) }
	100% { transform: translate3d(-21px, 12px, -140px) rotateX(75deg) rotateY(-7deg) rotateZ(55deg) }
	// 0% { transform: translateZ(-140px) rotateX(63deg) rotate3d(0.75, 0, 0.05, 0) }
	// 50% { transform: translateZ(-160px) rotateX(38deg) rotate3d(0.4, 0, 1, 180deg) }
	// 100% { transform: translateZ(-140px) rotateX(63deg) rotate3d(0.05, 0.01, 1, 360deg) }
	// 0%
	// 	transform translate3d(0, 12px, -150px) rotateY(0deg) rotateX(68deg)
	// // 25%
	// // 	transform translate3d(0, 10px, -150px) rotateY(38deg) rotateX(68deg)
	// 50%
	// 	transform translate3d(0, 8px, -150px) rotateY(180deg) rotateX(98deg)
	// // 75%
	// // 	transform translate3d(0, 9px, -150px) rotateY(278deg) rotateX(68deg)
	// 100%
	// 	transform translate3d(0, 12px, -150px) rotateY(360deg) rotateX(68deg)

// ---
// SIGNUP FORM
// ---

.signup
	padding-top 8rem
	line-height 1.75

.signup .btn
	justify-self left
	justify-self flex-start
	margin-top 1.5rem
	width 12rem

// ---
// FAQ section
// ---

.faq
	position relative

details
	--bg $gray
	display flex
	overflow hidden
	border-radius 2px 1rem 1rem 2px
	background $gray
	transition all 250ms
	border-left 4px solid transparent
	line-height 1.75
	margin-top 1rem
	padding 0.5rem

details p
	padding 0 1rem
	margin 1rem 0

summary
	padding 1rem
	cursor pointer
	position relative
	border-radius 0.5rem
	display flex // allows ::marker to hide

summary::after
	content ''
	position absolute
	transition all 250ms ease-in-out
	background transparent url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' stroke='%231D1F20'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 6v6m0 0v6m0-6h6m-6 0H6'/%3E%3C/svg%3E") center no-repeat
	top (1.8rem / 2)
	height 1.8rem
	width 1.8rem
	opacity 0.5
	right 1rem

summary::marker,
summary::-webkit-details-marker
	display none

details:hover
	border-color $orange1
	@extend $btn-shadow1
details:hover summary::after
	opacity 0.75

details[open]
	border-color $orange2
	@extend $btn-shadow1
details[open] summary
	font-weight 700
details[open] summary::after
	transform rotate(45deg)
	opacity 1
details[open]:hover
	@extend $btn-shadow2

details ul
	padding-top 0
	margin-left 2.5rem
	margin-top -0.5rem
	margin-bottom 1rem

details li
	margin-bottom 0.125rem

// ---
// FOOTER
// ---

$footer-link-padding = 0.5rem

footer
	padding 3rem 0
	box-shadow inset 0px 2.125px 8.5px -8.5px #1D1F20

footer .box
	display grid
	grid-template-columns 14.25rem 1fr 1fr 1fr
	grid-column-gap 1rem
	column-gap 1rem

footer dt
	color rgba($black, 0.75)
	margin-bottom 1.55rem

footer li
	color $black
	list-style none
	margin-bottom (2 * $footer-link-padding)
	margin-left (-1 * $footer-link-padding)

// ---
// PKG CONTENTS
// ---

$pkg-icon-size = 8rem
$pkg-icon-gutter = 1rem

$pkg-icon-delay-base = 300ms
$pkg-icon-delay-step = 150ms

.scene figure
	height $pkg-icon-size
	width $pkg-icon-size
	position absolute
	background-color $blue1
	border 4px solid $blue2
	transform translateZ(-4rem)
	transition-property transform
	transition-timing-function cubic-in-out
	transition-duration var(--ms)
	transition-delay var(--w)
	border-radius 50%
	display flex
	justify-content center
	align-items center
	padding 1rem
	padding-left var(--l, 1rem)

.scene figure svg
	width 100%
	height 100%

// keycap (last & left-most)
figure.k
	--x (22rem + $pkg-icon-size*1 + $pkg-icon-gutter*0)
	--ms ($pkg-icon-delay-base + $pkg-icon-delay-step*0)
	--w 800ms

// hat (2nd last)
figure.h
	--l 1.6rem
	--x (22rem + $pkg-icon-size*2 + $pkg-icon-gutter*1)
	--ms ($pkg-icon-delay-base + $pkg-icon-delay-step*1)
	--w 700ms

// cup (middle)
figure.c
	--l 1.8rem
	--x (22rem + $pkg-icon-size*3 + $pkg-icon-gutter*2)
	--ms ($pkg-icon-delay-base + $pkg-icon-delay-step*2)
	--w 600ms

// sticker (2nd)
figure.s
	--x (22rem + $pkg-icon-size*4 + $pkg-icon-gutter*3)
	--ms ($pkg-icon-delay-base + $pkg-icon-delay-step*3)
	--w 500ms

// tshirt (1st & right-most)
figure.t
	--x (22rem + $pkg-icon-size*5 + $pkg-icon-gutter*4)
	--ms ($pkg-icon-delay-base + $pkg-icon-delay-step*4)
	--w 400ms


// ---
// MOBILE STYLES
// ---
@media screen and (max-width: 1025px)
	.intro svg
		margin-left 0
		position absolute
		bottom -7rem
		right -10rem

@media screen and (min-width: 769px)
	.pkg
		animation none
		transition transform $pkg-transition
		transform \
			translate3d(-72px, 12px, -150px) \
			rotateY(38deg) rotateX(68deg)
	.scene:hover .pkg
		transform translateZ(-50px) rotateY(28deg) rotateX(48deg) rotateZ(12deg)
		transform translateZ(-50px) rotateY(30deg) rotateX(48deg) rotateZ(10deg)
	.scene:hover .face.h
		transform rotateY(0deg) rotateX(58deg)
	.scene:hover figure
		// unset / revert `.scene:hover .pkg` transformation
		transform \
			rotateZ(-10deg) rotateX(-48deg) rotateY(-30deg) translateZ(-50px) \
			translate3d(var(--x), var(--y, -4rem), -8rem)

@media screen and (max-width: 769px)
	html
		font-size 14px
	.intro
		padding-bottom 0
	.intro::after
		height 3rem
	.intro svg
		width 94%
		right auto
		position relative
		max-width 37.5rem
		margin-top 8rem
		bottom 0.8rem
	.box
		padding-left 1rem
		padding-right 1rem
	.grid
		grid-template-columns 1fr
	.scene
		margin 0
	.card
		padding 3rem 2rem
		position relative
		margin-top -4rem
		right auto
	form label:last-of-type
		grid-column 1/2
	.signup .btn
		width 100%
	details
		border-top-right-radius 0.8rem
		border-bottom-right-radius 0.8rem
	summary
		padding-right 2rem
	summary::after
		top 0.5rem
		right 0.5rem
	footer .box
		padding 0 2rem
		grid-template-columns 1fr 1fr
		grid-gap 4rem 2rem
		gap 4rem 2rem
	footer li
		padding-left 0.75rem
		margin-bottom 0.75rem

@media screen and (max-width: 441px)
	.box
		padding-left 0.5rem
		padding-right 0.5rem
	.intro svg
		bottom 1.2rem
